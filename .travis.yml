sudo: false
language: ruby

rvm:
- 2.2.2
#- 2.1.6
#- 2.0.0
#- 1.9.2
#- 1.9.3
#- 1.8.7
#- jruby-20mode
#- jruby-21mode
- jruby
- rbx
matrix:
  allow_failures:
  #- rvm: rbx

before_install:
  - gem install bundler --version '>=1.9.5'  #  so we can be sure to set code of conduct option= false to avoid an interactive prompt
  - bundle --version
  - gem --version
  - ruby --version
  - echo $(ruby -e 'puts "RUBY_ENGINE =#{RUBY_ENGINE}="')
  - echo $(ruby -e 'puts "RUBY_PLATFORM =#{RUBY_PLATFORM}="')
  - echo $(ruby -e 'puts "RUBY_VERSION >= 2.0  = #{RUBY_VERSION.to_f >= 2.0}"')
  - echo $(ruby -e 'puts " !defined?(JRUBY_VERSION) = #{!defined?(JRUBY_VERSION)}"')
  - echo $(ruby -e 'puts "(RUBY_ENGINE !=~ /(rbx)/) = #{(RUBY_ENGINE !=~ /(rbx)/)}"')
- echo $(ruby -e 'puts "RUBY_VERSION.to_f >= 2.0 && !defined?(JRUBY_VERSION) && (RUBY_ENGINE !=~ /(rbx)/)\n = #{RUBY_VERSION.to_f >= 2.0 && !defined?(JRUBY_VERSION) && (RUBY_ENGINE !=~ /(rbx)/)}"')

script: "bundle exec rake show_rbconfig"
